<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>librespeaker: respeaker::AloopOutputNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">librespeaker
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacerespeaker.html">respeaker</a></li><li class="navelem"><a class="el" href="classrespeaker_1_1AloopOutputNode.html">AloopOutputNode</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classrespeaker_1_1AloopOutputNode-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">respeaker::AloopOutputNode Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for respeaker::AloopOutputNode:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classrespeaker_1_1AloopOutputNode.png" usemap="#respeaker::AloopOutputNode_map" alt=""/>
  <map id="respeaker::AloopOutputNode_map" name="respeaker::AloopOutputNode_map">
<area href="classrespeaker_1_1BaseNode.html" alt="respeaker::BaseNode" shape="rect" coords="0,0,175,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a446697a4395649770d49bcd435f665b3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1AloopOutputNode.html#a446697a4395649770d49bcd435f665b3">OnStartThread</a> ()=0</td></tr>
<tr class="separator:a446697a4395649770d49bcd435f665b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8282242145ee5dfb676f6e5ce8de73de"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1AloopOutputNode.html#a8282242145ee5dfb676f6e5ce8de73de">FetchBlock</a> (bool &amp;exit)=0</td></tr>
<tr class="separator:a8282242145ee5dfb676f6e5ce8de73de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a0c9dfdc59705065ec8a53867bf777"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1AloopOutputNode.html#ac8a0c9dfdc59705065ec8a53867bf777">ProcessBlock</a> (std::string block, bool &amp;exit)=0</td></tr>
<tr class="separator:ac8a0c9dfdc59705065ec8a53867bf777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5346cd29cb641f74b6e9a38d723e77fc"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1AloopOutputNode.html#a5346cd29cb641f74b6e9a38d723e77fc">OnJoinThread</a> ()=0</td></tr>
<tr class="separator:a5346cd29cb641f74b6e9a38d723e77fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fb800e03c962660b43761be038af0a"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1AloopOutputNode.html#a18fb800e03c962660b43761be038af0a">SetMaxBlockDelayTime</a> (int ms)=0</td></tr>
<tr class="separator:a18fb800e03c962660b43761be038af0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classrespeaker_1_1BaseNode"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classrespeaker_1_1BaseNode')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classrespeaker_1_1BaseNode.html">respeaker::BaseNode</a></td></tr>
<tr class="memitem:aa64e2eb930291b7763f6d18a8ef16e49 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#aa64e2eb930291b7763f6d18a8ef16e49">GetId</a> ()</td></tr>
<tr class="separator:aa64e2eb930291b7763f6d18a8ef16e49 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a786258a66118b4681fe77124dfe87ea4 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#a786258a66118b4681fe77124dfe87ea4">Uplink</a> (<a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> *uplink_node)</td></tr>
<tr class="separator:a786258a66118b4681fe77124dfe87ea4 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b902a4e5fdb9ebdb276bcb9546a53a inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#aa8b902a4e5fdb9ebdb276bcb9546a53a">RegisterDownlinkNode</a> (<a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> *downlink_node)</td></tr>
<tr class="separator:aa8b902a4e5fdb9ebdb276bcb9546a53a inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f95dc810c69f48af08e3f0770432de inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrespeaker_1_1NodeParameter.html">NodeParameter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#a54f95dc810c69f48af08e3f0770432de">GetNodeOutputParameter</a> ()</td></tr>
<tr class="separator:a54f95dc810c69f48af08e3f0770432de inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1492da1aba5ad1c28e4824a0fdce2b inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#a9a1492da1aba5ad1c28e4824a0fdce2b">RecursivelyStartThread</a> (<a class="el" href="structrespeaker_1_1ChainSharedData.html">ChainSharedData</a> *shared_data)</td></tr>
<tr class="separator:a9a1492da1aba5ad1c28e4824a0fdce2b inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b6a49ceda9ded7386bad53bff315458 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a3b6a49ceda9ded7386bad53bff315458"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>RecursivelyJoinThread</b> ()</td></tr>
<tr class="separator:a3b6a49ceda9ded7386bad53bff315458 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a1aabbbe47c6f686239defb81d2ac5 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#a70a1aabbbe47c6f686239defb81d2ac5">StoreBlock</a> (std::string block, bool &amp;exit)</td></tr>
<tr class="separator:a70a1aabbbe47c6f686239defb81d2ac5 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c8cb5ec6126776fe1b85c2864b5b62 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a79c8cb5ec6126776fe1b85c2864b5b62"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Pause</b> ()</td></tr>
<tr class="separator:a79c8cb5ec6126776fe1b85c2864b5b62 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c0b8d6e4583e1995a283f9072a0e01 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="aa6c0b8d6e4583e1995a283f9072a0e01"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>Resume</b> ()</td></tr>
<tr class="separator:aa6c0b8d6e4583e1995a283f9072a0e01 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993ac61f2ca80601d6188d957bef7102 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a993ac61f2ca80601d6188d957bef7102"></a>
std::mutex *&#160;</td><td class="memItemRight" valign="bottom"><b>GetDownlinkDataQueueMutex</b> (<a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> *downlink_node_id=nullptr)</td></tr>
<tr class="separator:a993ac61f2ca80601d6188d957bef7102 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae332245863119fbd720fd642a3ca0410 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="ae332245863119fbd720fd642a3ca0410"></a>
std::condition_variable *&#160;</td><td class="memItemRight" valign="bottom"><b>GetDownlinkDataQueueConditionVar</b> (<a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> *downlink_node_id=nullptr)</td></tr>
<tr class="separator:ae332245863119fbd720fd642a3ca0410 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fbb35dc03773338d05cff433abadb6d inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a4fbb35dc03773338d05cff433abadb6d"></a>
std::queue&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>GetDownlinkDataQueue</b> (<a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> *downlink_node_id=nullptr)</td></tr>
<tr class="separator:a4fbb35dc03773338d05cff433abadb6d inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2d0e40fc228d2d6a7c714837cba496 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#aeb2d0e40fc228d2d6a7c714837cba496">GetQueueDeepth</a> ()</td></tr>
<tr class="separator:aeb2d0e40fc228d2d6a7c714837cba496 inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e3689fddd7f544d5027a7c7a6869ba inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#a72e3689fddd7f544d5027a7c7a6869ba">BindToCore</a> (int core_index)</td></tr>
<tr class="separator:a72e3689fddd7f544d5027a7c7a6869ba inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1f5f6f0655912b8eca7f2d285a3dcd inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#a9a1f5f6f0655912b8eca7f2d285a3dcd">SetThreadPriority</a> (int priority)</td></tr>
<tr class="separator:a9a1f5f6f0655912b8eca7f2d285a3dcd inherit pub_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af3cdc642512b41ef69fa99440b7110e0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classrespeaker_1_1AloopOutputNode.html">AloopOutputNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1AloopOutputNode.html#af3cdc642512b41ef69fa99440b7110e0">Create</a> (std::string output_device_name, bool output_interleaved=false)</td></tr>
<tr class="separator:af3cdc642512b41ef69fa99440b7110e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090888a040a1c6a952f9478983708b92"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classrespeaker_1_1AloopOutputNode.html">AloopOutputNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1AloopOutputNode.html#a090888a040a1c6a952f9478983708b92">Create</a> (std::string output_device_name, int period_time_ms, int buffer_time_ms, bool output_interleaved=false)</td></tr>
<tr class="separator:a090888a040a1c6a952f9478983708b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classrespeaker_1_1BaseNode"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classrespeaker_1_1BaseNode')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classrespeaker_1_1BaseNode.html">respeaker::BaseNode</a></td></tr>
<tr class="memitem:acde77c116f88c3643bc64964b5bf8c9c inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#acde77c116f88c3643bc64964b5bf8c9c">EnableQueueFlush</a> (bool enable)</td></tr>
<tr class="separator:acde77c116f88c3643bc64964b5bf8c9c inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19fcacd824cf2549e8770ab15a72805 inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="af19fcacd824cf2549e8770ab15a72805"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_Interleave</b> (const int16_t *const *deinterleaved, size_t num_frames, size_t num_channels, int16_t *interleaved)</td></tr>
<tr class="separator:af19fcacd824cf2549e8770ab15a72805 inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb276fd97a41540d79bbe7fe5af2eccb inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="abb276fd97a41540d79bbe7fe5af2eccb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_Deinterleave</b> (const int16_t *interleaved, size_t num_frames, size_t num_channels, int16_t *const *deinterleaved)</td></tr>
<tr class="separator:abb276fd97a41540d79bbe7fe5af2eccb inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868a8ce8342fd762d6f9bd2d66d8039b inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a868a8ce8342fd762d6f9bd2d66d8039b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>_Deinterleave</b> (const float *interleaved, size_t num_frames, size_t num_channels, float *const *deinterleaved)</td></tr>
<tr class="separator:a868a8ce8342fd762d6f9bd2d66d8039b inherit pro_methods_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classrespeaker_1_1BaseNode"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classrespeaker_1_1BaseNode')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classrespeaker_1_1BaseNode.html">respeaker::BaseNode</a></td></tr>
<tr class="memitem:acbc797af16d1d2b2ee3a4677cbdbfd52 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#acbc797af16d1d2b2ee3a4677cbdbfd52">_uplink_node</a> = nullptr</td></tr>
<tr class="separator:acbc797af16d1d2b2ee3a4677cbdbfd52 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada26f5cc0c9a649f3d98c7b829426c4b inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="classrespeaker_1_1BaseNode.html">BaseNode</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrespeaker_1_1BaseNode.html#ada26f5cc0c9a649f3d98c7b829426c4b">_list_downlink_nodes</a></td></tr>
<tr class="separator:ada26f5cc0c9a649f3d98c7b829426c4b inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffc3f266b114e71180c1302ebfcf93e inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a8ffc3f266b114e71180c1302ebfcf93e"></a>
<a class="el" href="structrespeaker_1_1NodeParameter.html">NodeParameter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_input_parameter</b></td></tr>
<tr class="separator:a8ffc3f266b114e71180c1302ebfcf93e inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77eba5ccadaf5700e37d0615160659f inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="af77eba5ccadaf5700e37d0615160659f"></a>
<a class="el" href="structrespeaker_1_1NodeParameter.html">NodeParameter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_output_parameter</b></td></tr>
<tr class="separator:af77eba5ccadaf5700e37d0615160659f inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabaadd03e527db413e5c08bff855fb21 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="aabaadd03e527db413e5c08bff855fb21"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_system_check</b> = 0</td></tr>
<tr class="separator:aabaadd03e527db413e5c08bff855fb21 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe38c4ea84934d8cdc6b630b0efce70 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="abfe38c4ea84934d8cdc6b630b0efce70"></a>
<a class="el" href="structrespeaker_1_1ChainSharedData.html">ChainSharedData</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>_chain_shared_data</b> = nullptr</td></tr>
<tr class="separator:abfe38c4ea84934d8cdc6b630b0efce70 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a873435ae89cd2b1103644bbd6ca949c3 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a873435ae89cd2b1103644bbd6ca949c3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_is_head</b> = false</td></tr>
<tr class="separator:a873435ae89cd2b1103644bbd6ca949c3 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a610aa4f77aae2dbe3170dadd9088045a inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a610aa4f77aae2dbe3170dadd9088045a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_is_tail</b> = false</td></tr>
<tr class="separator:a610aa4f77aae2dbe3170dadd9088045a inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b09f9e45f6f448ecf7ee3f2fafde4d inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="ab9b09f9e45f6f448ecf7ee3f2fafde4d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_is_interleaved_after_process</b> = false</td></tr>
<tr class="separator:ab9b09f9e45f6f448ecf7ee3f2fafde4d inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b4451bc2ff6667b489cc9804663719 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="ab1b4451bc2ff6667b489cc9804663719"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_num_frames_for_store_block</b></td></tr>
<tr class="separator:ab1b4451bc2ff6667b489cc9804663719 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d61c0cf63208a6a88ae529486cf7b0a inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a7d61c0cf63208a6a88ae529486cf7b0a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_channels_for_store_block</b></td></tr>
<tr class="separator:a7d61c0cf63208a6a88ae529486cf7b0a inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78650c657fd198def176d39286d57aa inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="ad78650c657fd198def176d39286d57aa"></a>
int16_t *&#160;</td><td class="memItemRight" valign="bottom"><b>_buffer_for_store_block</b></td></tr>
<tr class="separator:ad78650c657fd198def176d39286d57aa inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e50f8282e18033cc7f14a529be1b073 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memItemLeft" align="right" valign="top"><a id="a5e50f8282e18033cc7f14a529be1b073"></a>
std::unique_ptr&lt; int16_t *[]&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_channels_ptr</b></td></tr>
<tr class="separator:a5e50f8282e18033cc7f14a529be1b073 inherit pro_attribs_classrespeaker_1_1BaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af3cdc642512b41ef69fa99440b7110e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3cdc642512b41ef69fa99440b7110e0">&#9670;&nbsp;</a></span>Create() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classrespeaker_1_1AloopOutputNode.html">AloopOutputNode</a>* respeaker::AloopOutputNode::Create </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>output_device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>output_interleaved</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a <a class="el" href="classrespeaker_1_1AloopOutputNode.html">AloopOutputNode</a> instance. Output audio stream to a specific Alsa device(eg. "hw:Loopback,0,0"). In this case, the third party ASR engine(eg. Snips, AVS) can capture the processed audio stream from Alsa (eg. "hw:Loopback,1,0") directly. Need to run "sudo modprobe snd-aloop" to enable aloop module first.</p>
<p>Note that the sample rate and channel number of the audio stream, are the same as the uplink node. And the format is fixed to S16_LE. And the period/buffer time of Alsa PCM handle is set to 32/128 ms by default. Use large period/buffer time will get large latency but good cpu usage, use low period/buffer time will get superb latency but heavy cpu usage. For more information about period/buffer time, please check this: <a href="https://www.alsa-project.org/alsa-doc/alsa-lib/_2test_2latency_8c-example.html">https://www.alsa-project.org/alsa-doc/alsa-lib/_2test_2latency_8c-example.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output_device_name</td><td>- Users can obtain this by <code>aplay -L</code>. </td></tr>
    <tr><td class="paramname">output_interleaved</td><td>- Set it true to output interleaved data, false to output deinterleaved data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AloopOutputNode* </dd></dl>

</div>
</div>
<a id="a090888a040a1c6a952f9478983708b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090888a040a1c6a952f9478983708b92">&#9670;&nbsp;</a></span>Create() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classrespeaker_1_1AloopOutputNode.html">AloopOutputNode</a>* respeaker::AloopOutputNode::Create </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>output_device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>period_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buffer_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>output_interleaved</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">period_time_ms</td><td>- Set period time of Alsa PCM handle, period time should be less than buffer time, default to 32ms </td></tr>
    <tr><td class="paramname">buffer_time_ms</td><td>- Set buffer time of Alsa PCM handle, default to 128ms</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AloopOutputNode* </dd></dl>

</div>
</div>
<a id="a8282242145ee5dfb676f6e5ce8de73de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8282242145ee5dfb676f6e5ce8de73de">&#9670;&nbsp;</a></span>FetchBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string respeaker::AloopOutputNode::FetchBlock </td>
          <td>(</td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>exit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The head node must override this method, to do real audio data fetching</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exit</td><td>[out] - The exit flag of the <a class="el" href="structrespeaker_1_1ChainSharedData.html">ChainSharedData</a> is set, the thread should join now.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string </dd></dl>

<p>Reimplemented from <a class="el" href="classrespeaker_1_1BaseNode.html#a82f301a825f6245864e5df280ffd2e80">respeaker::BaseNode</a>.</p>

</div>
</div>
<a id="a5346cd29cb641f74b6e9a38d723e77fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5346cd29cb641f74b6e9a38d723e77fc">&#9670;&nbsp;</a></span>OnJoinThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool respeaker::AloopOutputNode::OnJoinThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Do per node cleanup in this method. </p>

<p>Implements <a class="el" href="classrespeaker_1_1BaseNode.html#aed14c54e8a1bca55a384c23d13594613">respeaker::BaseNode</a>.</p>

</div>
</div>
<a id="a446697a4395649770d49bcd435f665b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446697a4395649770d49bcd435f665b3">&#9670;&nbsp;</a></span>OnStartThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool respeaker::AloopOutputNode::OnStartThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The derived node must configure the output parameter in this method </p>

<p>Implements <a class="el" href="classrespeaker_1_1BaseNode.html#a54a8341faa495ff1f5d0b3cf93ba34e7">respeaker::BaseNode</a>.</p>

</div>
</div>
<a id="ac8a0c9dfdc59705065ec8a53867bf777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8a0c9dfdc59705065ec8a53867bf777">&#9670;&nbsp;</a></span>ProcessBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string respeaker::AloopOutputNode::ProcessBlock </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>exit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Every node must implement this method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>[in] </td></tr>
    <tr><td class="paramname">exit</td><td>[out] - The exit flag of the <a class="el" href="structrespeaker_1_1ChainSharedData.html">ChainSharedData</a> is set, the thread should join now.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string </dd></dl>

<p>Implements <a class="el" href="classrespeaker_1_1BaseNode.html#a58efcb38cbd0dc75a97060afb911e910">respeaker::BaseNode</a>.</p>

</div>
</div>
<a id="a18fb800e03c962660b43761be038af0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18fb800e03c962660b43761be038af0a">&#9670;&nbsp;</a></span>SetMaxBlockDelayTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int respeaker::AloopOutputNode::SetMaxBlockDelayTime </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the "max block delay time" of this node. The "max block delay time" means the max acceptable latency from the queue of uplink node. As we known, this node get audio data(we call it "block") from the output queue of its uplink node. When the queue contains some blocks, for example 10 blocks, and each block has 40ms audio data, that means this aloop node has 10*40ms=400ms "block delay time". Under a high "block delay time"(eg. more than 400ms), your assistant will become "slow" and easy to make mistake. So we need to drain(drop) the audio data in queue when this situation happens(when the length of audio data is larger than the "max block delay time"). Note that this situation will not always happen. Note that this function should be called after <a class="el" href="classrespeaker_1_1AloopOutputNode.html#a446697a4395649770d49bcd435f665b3">OnStartThread()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>- "max block delay time" in ms. Defalut to (5 * block_len_ms of uplink <a class="el" href="structrespeaker_1_1NodeParameter.html">NodeParameter</a>)ms. The minimum value is (2 * block_len_ms of uplink <a class="el" href="structrespeaker_1_1NodeParameter.html">NodeParameter</a>)ms.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int - The actually "max block delay time" in ms. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/gitlab-runner/builds/dc7d1974/0/seeedstudio/librespeaker/include/chain_nodes/<a class="el" href="aloop__output__node_8h_source.html">aloop_output_node.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
